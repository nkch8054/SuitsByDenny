jQuery(document).ready(function(e){e(document).on("click",".see_measure_1",function(){console.log(e(this).attr("data-sm"));var a=e(this).attr("data-sm");e(".see_measure_1_"+a).hide();e(".see_measure_2_"+a).show();e(".see_measure_3_"+a).show()});e(document).on("click",".see_measure_3",function(){console.log(e(this).attr("data-sm"));var a=e(this).attr("data-sm");e(".see_measure_1").show();e(".see_measure_2").hide();e(".see_measure_3").hide()});e(".float_type_msr").keypress(function(a){if((a.which!=46||a.which==46&&e(this).val()==""||e(this).val().indexOf(".")!=-1)&&(a.which<48||a.which>57)){a.preventDefault()}}).on("paste",function(e){e.preventDefault()});function a(e){e=e?e:window.event;var a=e.which?e.which:e.keyCode;if(a>31&&(a<48||a>57)){return false}return true}var t=e("#site_url_bfst").val();e("#bfst_measure_cont").click(function(){var a=e(".blkActive").attr("id");var t=e("#site_url_bfst").val();var r=e("#plugin_url_bfst").val();var i=e("#measure_key").val();var s={};if(a=="Standard_measure"){s.value=e("#standard_measure_bfst").val()}else if(a=="Reference_measure"){s.name=e("#bfst_user_name").val();s.refer=e("#bfst_refer_num").val()}else if(a=="saved_measurement"){s.add_saved_measurement=e("#add_saved_measurement").val()}s.measure_key=i;s.measure_id=a;e.ajax({type:"POST",url:t+"/wp-admin/admin-ajax.php",data:{action:"bfst_measure_save",measure:s},success:function(e){if(e.success){location.reload()}},error:function(){}})});e(".bgClr").click(function(){e(".bgClr").removeClass("blkActive");e(this).addClass("blkActive")});e("#add_body_measurement").click(function(){var a=e("#measure_key").val();window.location.href=t+"/shirt-tool?editDesign="+a+"&measure=boby_measure"});e("#edit_body_measurement").click(function(){var a=e("#measure_key").val();var r=e("#add_saved_measurement").val();window.location.href=t+"/shirt-tool?editDesign="+a+"&measure=boby_measure&my_measure_id="+r});e(".measurement_change").click(function(){var a=e(this).attr("data-key");var t=e(this).attr("data-measureid");e(".btn_next_popup").click();e("#measure_key").val(a);e(".bgClr").removeClass("blkActive");e("#"+t).addClass("blkActive")});e("#upload_image_button").click(function(){formfield=e("#upload_image").attr("name");tb_show("","media-upload.php?type=image&amp;TB_iframe=true");return false});window.send_to_editor=function(a){imgurl=e("img",a).attr("src");e("#upload_image").val(imgurl);tb_remove()};e(document).on("click","#msr-image-add",function(a){a.preventDefault();var t=e(this).attr("data-selector");var r=e(this);var i=wp.media({title:"Please set the image",button:{text:"Set Image"},multiple:false}).on("select",function(){var a=i.state().get("selection");a.map(function(a){a=a.toJSON();e("#thumb_image").val(a.id);var t="<span class='msr-image-holder'>";t=t+"<img width='55px' src='"+a.url+"'>";t=t+"<a href='#' id='msr-image-add' class='button' data-editor='content' title='Change image'>Change image</a>";e("#msr-image-container").html(t);e(".msr-image-add-class").hide()})}).open()});e(document).on("click",".msr-image-remove",function(a){a.preventDefault();var t=e(this).data("id");e(".msr-image-add-class").css("display","block")});e("#upload_image_button_si").click(function(){formfield=e("#upload_image_si").attr("name");tb_show("","media-upload.php?type=image&amp;TB_iframe=true");return false});e(document).on("click","#msr-image-add_si",function(a){a.preventDefault();var t=e(this).attr("data-selector");var r=e(this);var i=wp.media({title:"Please set the image",button:{text:"Set Image"},multiple:false}).on("select",function(){var a=i.state().get("selection");a.map(function(a){a=a.toJSON();e("#thumb_image_si").val(a.id);var t="<span class='msr-image-holder_si'>";t=t+"<img width='55px' src='"+a.url+"'>";t=t+"<a href='#' id='msr-image-add_si' class='button' data-editor='content' title='Change image'>Change image</a>";e("#msr-image-container_si").html(t);e(".msr-image-add-class_si").hide()})}).open()});e(document).on("click",".msr-image-remove_si",function(a){a.preventDefault();var t=e(this).data("id");e(".msr-image-add-class_si").css("display","block")});var r=null;var i=3;e("#Fabric_category_Ps").change(function(a){if(e(this).val().length>i){alert("You can only choose "+i+"!");e(this).val(r)}else{r=e(this).val()}});e(".measure_li").click(function(){var e=this.id;$(".prog_item").removeClass("active");$(this).addClass("active");var a=e.split("_")[1];var t=$("#back_"+a).val();$(".full_size").css("background",'rgba(0, 0, 0, 0) url("'+t+'") no-repeat scroll -175px 15px / cover');$(".measure_div").hide();$("#inputs_"+a).show()});e(".clsSave").click(function(){if(s()){var a=$(".measurement-value").serialize();var t=e("#site_url_bfst").val();var r={};r.measure_id="body_measure";var i=e("#measure_key").val();r.measure_key=i;e.ajax({type:"POST",url:t+"/wp-admin/admin-ajax.php",data:{action:"bfst_body_measure_save",measure:r,measure_val:a},success:function(e){if(e.success){window.location.href=t+"/cart"}},error:function(){}})}});function s(){var e=[];$(".measurement-value").each(function(){var a=$(this).val();var t=$(this).attr("data-min");var r=$(this).attr("data-max");var i=$(this).attr("data-key");if(Number(a)<Number(t)||Number(a)>Number(r)){e.push(this.id);$(".error_"+i).show();$("#li_"+i).trigger("click");return false}});if(e.length==0){return true}}e(".measurement-value").keyup(function(){var e=$(this).val();var a=$(this).attr("data-min");var t=$(this).attr("data-max");var r=$(this).attr("data-key");var i=[];if(Number(e)<Number(a)||Number(e)>Number(t)){i.push(this.id);$(".error_"+r).show()}else{$(".error_"+r).hide()}});var n=e(".measure_li li:first");var l=e(".measure_li li:last");e(".measure_prev").click(function(){var e;var a=$(".measure_li.active");e=a.prev(".measure_li").length?a.prev(".measure_li"):l;a.removeClass("active");if(e==l||e==undefined){$(".last").trigger("click")}else{var t=e.attr("id");$("#"+t).trigger("click")}});e(".measure_next").click(function(){var e;var a=$(".measure_li.active");e=a.next(".measure_li").length?a.next(".measure_li"):n;a.removeClass("active");if(e==n||e==undefined){$(".first").trigger("click")}else{var t=e.attr("id");$("#"+t).trigger("click")}});e(".clsReset").click(function(){e("#body_measure_form")[0].reset();e(".error_unitlength").hide()})});function close_measure_div(e){$("#inputs_"+e).hide()}